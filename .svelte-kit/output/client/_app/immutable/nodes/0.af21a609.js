import{s as se,U as ne,V as re,H as we,W as le,b as O,u as $e,f as h,X as ue,i as P,n as ee,Y as ce,Z as Ge,e as b,a as D,t as me,c as y,g as z,d as ge,h as o,j as m,a3 as Q,k as xe,_ as qe,$ as Ke,a0 as We,D as ve,l as _e,a2 as Ce,m as Oe,a4 as te,a5 as pe,v as Ae,a6 as Ne,F as tt,a7 as Je,o as nt,a1 as rt,r as de}from"../chunks/scheduler.953cfe2b.js";import{S as ae,i as oe,c as G,a as q,m as K,t as I,d as U,e as W,g as be,f as ye,h as Le}from"../chunks/index.1fa04a18.js";import{a as Ee,C as Te,b as lt,L as st,c as Be,P as ke,d as at,u as ot,o as it,f as Se,M as Xe,h as Ye,j as ut,k as ie,e as he,i as Me,g as ct}from"../chunks/forms.af2b0274.js";import{n as ft,p as Qe}from"../chunks/stores.2ffbda4a.js";import{b as R}from"../chunks/singletons.021c165b.js";import{U as Ie,s as je,t as De}from"../chunks/titleUpdate.5d1a632c.js";const dt=!0,ht=dt;function mt(r){let e,n,t='<path fill="currentColor" d="M17 15V8h-2v7H8v2h7v7h2v-7h7v-2z"/>',l=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},r[0]],s={};for(let a=0;a<l.length;a+=1)s=ne(s,l[a]);return{c(){e=re("svg"),n=new we(!0),this.h()},l(a){e=le(a,"svg",{viewBox:!0,width:!0,height:!0});var i=O(e);n=$e(i,!0),i.forEach(h),this.h()},h(){n.a=null,ue(e,s)},m(a,i){P(a,e,i),n.m(t,e)},p(a,[i]){ue(e,s=Ee(l,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:ee,o:ee,d(a){a&&h(e)}}}function gt(r,e,n){return r.$$set=t=>{n(0,e=ne(ne({},e),ce(t)))},e=ce(e),[e]}class vt extends ae{constructor(e){super(),oe(this,e,gt,mt,se,{})}}function _t(r){let e,n,t='<path fill="currentColor" d="M6 6h20v2H6zm0 6h20v2H6zm0 6h20v2H6zm0 6h20v2H6z"/>',l=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},r[0]],s={};for(let a=0;a<l.length;a+=1)s=ne(s,l[a]);return{c(){e=re("svg"),n=new we(!0),this.h()},l(a){e=le(a,"svg",{viewBox:!0,width:!0,height:!0});var i=O(e);n=$e(i,!0),i.forEach(h),this.h()},h(){n.a=null,ue(e,s)},m(a,i){P(a,e,i),n.m(t,e)},p(a,[i]){ue(e,s=Ee(l,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:ee,o:ee,d(a){a&&h(e)}}}function pt(r,e,n){return r.$$set=t=>{n(0,e=ne(ne({},e),ce(t)))},e=ce(e),[e]}class bt extends ae{constructor(e){super(),oe(this,e,pt,_t,se,{})}}function yt(r){let e,n,t,l,s,a,i,f,u,c,d,_,L,p,w,M,$,x,E;t=new bt({}),u=new vt({}),p=new Te({});const A=r[7].default,V=Ge(A,r,r[6],null);return{c(){e=b("nav"),n=b("button"),G(t.$$.fragment),l=D(),s=b("span"),a=me(r[0]),i=D(),f=b("a"),G(u.$$.fragment),c=D(),d=b("nav"),_=b("div"),L=b("button"),G(p.$$.fragment),w=D(),V&&V.c(),this.h()},l(N){e=y(N,"NAV",{class:!0});var S=O(e);n=y(S,"BUTTON",{type:!0,class:!0,"aria-label":!0});var X=O(n);q(t.$$.fragment,X),X.forEach(h),l=z(S),s=y(S,"SPAN",{class:!0});var j=O(s);a=ge(j,r[0]),j.forEach(h),i=z(S),f=y(S,"A",{href:!0,class:!0});var H=O(f);q(u.$$.fragment,H),H.forEach(h),S.forEach(h),c=z(N),d=y(N,"NAV",{class:!0});var g=O(d);_=y(g,"DIV",{class:!0});var k=O(_);L=y(k,"BUTTON",{type:!0,class:!0,"aria-label":!0});var T=O(L);q(p.$$.fragment,T),T.forEach(h),k.forEach(h),w=z(g),V&&V.l(g),g.forEach(h),this.h()},h(){o(n,"type","button"),o(n,"class","-ml-3 flex h-9 w-9 shrink-0 items-center justify-center"),o(n,"aria-label","Open menu"),o(s,"class","truncate px-4"),o(f,"href",`${R}/`),o(f,"class","-mr-3 flex h-9 w-9 shrink-0 items-center justify-center"),o(e,"class","flex h-12 items-center justify-between border-b bg-gray-50 px-4 dark:border-gray-800 dark:bg-gray-800/70 md:hidden"),o(L,"type","button"),o(L,"class","-mr-3 ml-auto flex h-9 w-9 items-center justify-center"),o(L,"aria-label","Close menu"),o(_,"class","flex h-12 items-center px-4"),o(d,"class",M="fixed inset-0 z-30 grid max-h-screen grid-cols-1 grid-rows-[auto,auto,1fr,auto] bg-white bg-gradient-to-l from-gray-50 dark:bg-gray-900 dark:from-gray-800/30 max-sm:rounded-t-2xl "+(r[1]?"block":"hidden"))},m(N,S){P(N,e,S),m(e,n),K(t,n,null),r[9](n),m(e,l),m(e,s),m(s,a),m(e,i),m(e,f),K(u,f,null),P(N,c,S),P(N,d,S),m(d,_),m(_,L),K(p,L,null),r[11](L),m(d,w),V&&V.m(d,null),$=!0,x||(E=[Q(n,"click",r[8]),Q(L,"click",r[10])],x=!0)},p(N,[S]){(!$||S&1)&&xe(a,N[0]),V&&V.p&&(!$||S&64)&&qe(V,A,N,N[6],$?We(A,N[6],S,null):Ke(N[6]),null),(!$||S&2&&M!==(M="fixed inset-0 z-30 grid max-h-screen grid-cols-1 grid-rows-[auto,auto,1fr,auto] bg-white bg-gradient-to-l from-gray-50 dark:bg-gray-900 dark:from-gray-800/30 max-sm:rounded-t-2xl "+(N[1]?"block":"hidden")))&&o(d,"class",M)},i(N){$||(I(t.$$.fragment,N),I(u.$$.fragment,N),I(p.$$.fragment,N),I(V,N),$=!0)},o(N){U(t.$$.fragment,N),U(u.$$.fragment,N),U(p.$$.fragment,N),U(V,N),$=!1},d(N){N&&(h(e),h(c),h(d)),W(t),r[9](null),W(u),W(p),r[11](null),V&&V.d(N),x=!1,ve(E)}}}function kt(r,e,n){let t;_e(r,ft,w=>n(5,t=w));let{$$slots:l={},$$scope:s}=e,{isOpen:a=!1}=e,{title:i}=e,f,u;const c=Ce(),d=()=>c("toggle",!0);function _(w){Oe[w?"unshift":"push"](()=>{u=w,n(3,u)})}const L=()=>c("toggle",!1);function p(w){Oe[w?"unshift":"push"](()=>{f=w,n(2,f)})}return r.$$set=w=>{"isOpen"in w&&n(1,a=w.isOpen),"title"in w&&n(0,i=w.title),"$$scope"in w&&n(6,s=w.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&n(0,i=i||"New Chat"),r.$$.dirty&32&&t&&c("toggle",!1),r.$$.dirty&14&&(a&&f?f.focus():!a&&ht&&document.activeElement===f&&u.focus())},[i,a,f,u,c,t,s,l,d,_,L,p]}class wt extends ae{constructor(e){super(),oe(this,e,kt,yt,se,{isOpen:1,title:0})}}function $t(){const{classList:r}=document.querySelector("html"),e=document.querySelector('meta[name="theme-color"]');r.contains("dark")?(r.remove("dark"),e.setAttribute("content","rgb(249, 250, 251)"),localStorage.theme="light"):(r.add("dark"),e.setAttribute("content","rgb(26, 36, 50)"),localStorage.theme="dark")}function xt(r){let e,n,t='<path fill="currentColor" d="m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"/>',l=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},r[0]],s={};for(let a=0;a<l.length;a+=1)s=ne(s,l[a]);return{c(){e=re("svg"),n=new we(!0),this.h()},l(a){e=le(a,"svg",{viewBox:!0,width:!0,height:!0});var i=O(e);n=$e(i,!0),i.forEach(h),this.h()},h(){n.a=null,ue(e,s)},m(a,i){P(a,e,i),n.m(t,e)},p(a,[i]){ue(e,s=Ee(l,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:ee,o:ee,d(a){a&&h(e)}}}function Ct(r,e,n){return r.$$set=t=>{n(0,e=ne(ne({},e),ce(t)))},e=ce(e),[e]}class Et extends ae{constructor(e){super(),oe(this,e,Ct,xt,se,{})}}function Tt(r){let e,n,t='<path fill="currentColor" d="M12 12h2v12h-2zm6 0h2v12h-2z"/><path fill="currentColor" d="M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20zm4-26h8v2h-8z"/>',l=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},r[0]],s={};for(let a=0;a<l.length;a+=1)s=ne(s,l[a]);return{c(){e=re("svg"),n=new we(!0),this.h()},l(a){e=le(a,"svg",{viewBox:!0,width:!0,height:!0});var i=O(e);n=$e(i,!0),i.forEach(h),this.h()},h(){n.a=null,ue(e,s)},m(a,i){P(a,e,i),n.m(t,e)},p(a,[i]){ue(e,s=Ee(l,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:ee,o:ee,d(a){a&&h(e)}}}function Nt(r,e,n){return r.$$set=t=>{n(0,e=ne(ne({},e),ce(t)))},e=ce(e),[e]}class Ot extends ae{constructor(e){super(),oe(this,e,Nt,Tt,se,{})}}function ze(r){let e,n="Delete";return{c(){e=b("span"),e.textContent=n,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1mt4bpd"&&(e.textContent=n),this.h()},h(){o(e,"class","font-semibold")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function At(r){let e,n,t,l,s,a,i,f;return n=new lt({props:{class:"text-xs text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"}}),s=new Ot({props:{class:"text-xs text-gray-400  hover:text-gray-500 dark:hover:text-gray-300"}}),{c(){e=b("button"),G(n.$$.fragment),t=D(),l=b("button"),G(s.$$.fragment),this.h()},l(u){e=y(u,"BUTTON",{type:!0,class:!0,title:!0});var c=O(e);q(n.$$.fragment,c),c.forEach(h),t=z(u),l=y(u,"BUTTON",{type:!0,class:!0,title:!0});var d=O(l);q(s.$$.fragment,d),d.forEach(h),this.h()},h(){o(e,"type","button"),o(e,"class","flex h-5 w-5 items-center justify-center rounded md:hidden md:group-hover:flex"),o(e,"title","Edit conversation title"),o(l,"type","button"),o(l,"class","flex h-5 w-5 items-center justify-center rounded md:hidden md:group-hover:flex"),o(l,"title","Delete conversation")},m(u,c){P(u,e,c),K(n,e,null),P(u,t,c),P(u,l,c),K(s,l,null),a=!0,i||(f=[Q(e,"click",pe(r[6])),Q(l,"click",pe(r[7]))],i=!0)},p:ee,i(u){a||(I(n.$$.fragment,u),I(s.$$.fragment,u),a=!0)},o(u){U(n.$$.fragment,u),U(s.$$.fragment,u),a=!1},d(u){u&&(h(e),h(t),h(l)),W(n),W(s),i=!1,ve(f)}}}function Lt(r){let e,n,t,l,s,a,i,f;return n=new Et({props:{class:"text-xs text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"}}),s=new Te({props:{class:"text-xs text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"}}),{c(){e=b("button"),G(n.$$.fragment),t=D(),l=b("button"),G(s.$$.fragment),this.h()},l(u){e=y(u,"BUTTON",{type:!0,class:!0,title:!0});var c=O(e);q(n.$$.fragment,c),c.forEach(h),t=z(u),l=y(u,"BUTTON",{type:!0,class:!0,title:!0});var d=O(l);q(s.$$.fragment,d),d.forEach(h),this.h()},h(){o(e,"type","button"),o(e,"class","flex h-5 w-5 items-center justify-center rounded md:hidden md:group-hover:flex"),o(e,"title","Confirm delete action"),o(l,"type","button"),o(l,"class","flex h-5 w-5 items-center justify-center rounded md:hidden md:group-hover:flex"),o(l,"title","Cancel delete action")},m(u,c){P(u,e,c),K(n,e,null),P(u,t,c),P(u,l,c),K(s,l,null),a=!0,i||(f=[Q(e,"click",pe(r[4])),Q(l,"click",pe(r[5]))],i=!0)},p:ee,i(u){a||(I(n.$$.fragment,u),I(s.$$.fragment,u),a=!0)},o(u){U(n.$$.fragment,u),U(s.$$.fragment,u),a=!1},d(u){u&&(h(e),h(t),h(l)),W(n),W(s),i=!1,ve(f)}}}function Bt(r){let e,n,t,l=r[0].title+"",s,a,i,f,u,c,d,_,L,p=r[1]&&ze();const w=[Lt,At],M=[];function $(x,E){return x[1]?0:1}return i=$(r),f=M[i]=w[i](r),{c(){e=b("a"),n=b("div"),p&&p.c(),t=D(),s=me(l),a=D(),f.c(),this.h()},l(x){e=y(x,"A",{"data-sveltekit-noscroll":!0,href:!0,class:!0});var E=O(e);n=y(E,"DIV",{class:!0});var A=O(n);p&&p.l(A),t=z(A),s=ge(A,l),A.forEach(h),a=z(E),f.l(E),E.forEach(h),this.h()},h(){o(n,"class","flex-1 truncate"),o(e,"data-sveltekit-noscroll",""),o(e,"href",u=R+"/conversation/"+r[0].id),o(e,"class",c="group flex h-11 flex-none items-center gap-1.5 rounded-lg pl-3 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 "+(r[0].id===r[2].params.id?"bg-gray-100 dark:bg-gray-700":""))},m(x,E){P(x,e,E),m(e,n),p&&p.m(n,null),m(n,t),m(n,s),m(e,a),M[i].m(e,null),d=!0,_||(L=Q(e,"mouseleave",r[8]),_=!0)},p(x,[E]){x[1]?p||(p=ze(),p.c(),p.m(n,t)):p&&(p.d(1),p=null),(!d||E&1)&&l!==(l=x[0].title+"")&&xe(s,l);let A=i;i=$(x),i===A?M[i].p(x,E):(be(),U(M[A],1,1,()=>{M[A]=null}),ye(),f=M[i],f?f.p(x,E):(f=M[i]=w[i](x),f.c()),I(f,1),f.m(e,null)),(!d||E&1&&u!==(u=R+"/conversation/"+x[0].id))&&o(e,"href",u),(!d||E&5&&c!==(c="group flex h-11 flex-none items-center gap-1.5 rounded-lg pl-3 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 "+(x[0].id===x[2].params.id?"bg-gray-100 dark:bg-gray-700":"")))&&o(e,"class",c)},i(x){d||(I(f),d=!0)},o(x){U(f),d=!1},d(x){x&&h(e),p&&p.d(),M[i].d(),_=!1,L()}}}function St(r,e,n){let t;_e(r,Qe,_=>n(2,t=_));let{conv:l}=e,s=!1;const a=Ce(),i=()=>a("deleteConversation",l.id),f=()=>{n(1,s=!1)},u=()=>{const _=prompt("Edit this conversation title:",l.title);_&&a("editConversationTitle",{id:l.id,title:_})},c=_=>{_.shiftKey?a("deleteConversation",l.id):n(1,s=!0)},d=()=>{n(1,s=!1)};return r.$$set=_=>{"conv"in _&&n(0,l=_.conv)},[l,s,t,a,i,f,u,c,d]}class Mt extends ae{constructor(e){super(),oe(this,e,St,Bt,se,{conv:0})}}function Ue(r,e,n){const t=r.slice();return t[7]=e[n],t}function He(r,e){let n,t,l;return t=new Mt({props:{conv:e[7]}}),t.$on("editConversationTitle",e[4]),t.$on("deleteConversation",e[5]),{key:r,first:null,c(){n=Ae(),G(t.$$.fragment),this.h()},l(s){n=Ae(),q(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,a){P(s,n,a),K(t,s,a),l=!0},p(s,a){e=s;const i={};a&1&&(i.conv=e[7]),t.$set(i)},i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){U(t.$$.fragment,s),l=!1},d(s){s&&h(n),W(t,s)}}}function Pe(r){var f,u;let e,n,t=(((f=r[2])==null?void 0:f.username)||((u=r[2])==null?void 0:u.email))+"",l,s,a,i="Sign Out";return{c(){e=b("form"),n=b("span"),l=me(t),s=D(),a=b("button"),a.textContent=i,this.h()},l(c){e=y(c,"FORM",{action:!0,method:!0,class:!0});var d=O(e);n=y(d,"SPAN",{class:!0});var _=O(n);l=ge(_,t),_.forEach(h),s=z(d),a=y(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),te(a)!=="svelte-3rftc"&&(a.textContent=i),d.forEach(h),this.h()},h(){o(n,"class","flex h-9 flex-none shrink items-center gap-1.5 truncate pr-2 text-gray-500 dark:text-gray-400"),o(a,"type","submit"),o(a,"class","ml-auto h-6 flex-none items-center gap-1.5 rounded-md border bg-white px-2 text-gray-700 shadow-sm group-hover:flex hover:shadow-none dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400 dark:hover:text-gray-300 md:hidden"),o(e,"action",R+"/logout"),o(e,"method","post"),o(e,"class","group flex items-center gap-1.5 rounded-lg pl-3 pr-2 hover:bg-gray-100 dark:hover:bg-gray-700")},m(c,d){P(c,e,d),m(e,n),m(n,l),m(e,s),m(e,a)},p(c,d){var _,L;d&4&&t!==(t=(((_=c[2])==null?void 0:_.username)||((L=c[2])==null?void 0:L.email))+"")&&xe(l,t)},d(c){c&&h(e)}}}function Ve(r){let e,n='<button type="submit" class="flex h-9 w-full flex-none items-center gap-1.5 rounded-lg pl-3 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700">Login</button>';return{c(){e=b("form"),e.innerHTML=n,this.h()},l(t){e=y(t,"FORM",{action:!0,method:!0,target:!0,"data-svelte-h":!0}),te(e)!=="svelte-7nu686"&&(e.innerHTML=n),this.h()},h(){o(e,"action",R+"/login"),o(e,"method","POST"),o(e,"target","_parent")},m(t,l){P(t,e,l)},d(t){t&&h(e)}}}function It(r){var Y,F;let e,n,t,l,s,a,i,f="New Chat",u,c,d=[],_=new Map,L,p,w,M,$,x="Theme",E,A,V="Settings",N,S,X,j;t=new st({props:{classNames:"mr-1"}});let H=Be(r[0]);const g=B=>B[7].id;for(let B=0;B<H.length;B+=1){let v=Ue(r,H,B),C=g(v);_.set(C,d[B]=He(C,v))}let k=(((Y=r[2])==null?void 0:Y.username)||((F=r[2])==null?void 0:F.email))&&Pe(r),T=r[1]&&Ve();return{c(){e=b("div"),n=b("a"),G(t.$$.fragment),l=D(),s=me(ke),a=D(),i=b("a"),i.textContent=f,u=D(),c=b("div");for(let B=0;B<d.length;B+=1)d[B].c();L=D(),p=b("div"),k&&k.c(),w=D(),T&&T.c(),M=D(),$=b("button"),$.textContent=x,E=D(),A=b("button"),A.textContent=V,N=D(),this.h()},l(B){e=y(B,"DIV",{class:!0});var v=O(e);n=y(v,"A",{class:!0,href:!0});var C=O(n);q(t.$$.fragment,C),l=z(C),s=ge(C,ke),C.forEach(h),a=z(v),i=y(v,"A",{href:!0,class:!0,"data-svelte-h":!0}),te(i)!=="svelte-111q0zn"&&(i.textContent=f),v.forEach(h),u=z(B),c=y(B,"DIV",{class:!0});var Z=O(c);for(let fe=0;fe<d.length;fe+=1)d[fe].l(Z);Z.forEach(h),L=z(B),p=y(B,"DIV",{class:!0});var J=O(p);k&&k.l(J),w=z(J),T&&T.l(J),M=z(J),$=y(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),te($)!=="svelte-iicrsj"&&($.textContent=x),E=z(J),A=y(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),te(A)!=="svelte-1drr7pi"&&(A.textContent=V),N=z(J),J.forEach(h),this.h()},h(){o(n,"class","flex items-center rounded-xl text-lg font-semibold"),o(n,"href",at+R+"/"),o(i,"href",`${R}/`),o(i,"class","flex rounded-lg border bg-white px-2 py-0.5 text-center shadow-sm hover:shadow-none dark:border-gray-600 dark:bg-gray-700"),o(e,"class","sticky top-0 flex flex-none items-center justify-between px-3 py-3.5 max-sm:pt-0"),o(c,"class","scrollbar-custom flex flex-col gap-1 overflow-y-auto rounded-r-xl bg-gradient-to-l from-gray-50 px-3 pb-3 pt-2 dark:from-gray-800/30"),o($,"type","button"),o($,"class","flex h-9 flex-none items-center gap-1.5 rounded-lg pl-3 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"),o(A,"type","button"),o(A,"class","flex h-9 flex-none items-center gap-1.5 rounded-lg pl-3 pr-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"),o(p,"class","mt-0.5 flex flex-col gap-1 rounded-r-xl bg-gradient-to-l from-gray-50 p-3 text-sm dark:from-gray-800/30")},m(B,v){P(B,e,v),m(e,n),K(t,n,null),m(n,l),m(n,s),m(e,a),m(e,i),P(B,u,v),P(B,c,v);for(let C=0;C<d.length;C+=1)d[C]&&d[C].m(c,null);P(B,L,v),P(B,p,v),k&&k.m(p,null),m(p,w),T&&T.m(p,null),m(p,M),m(p,$),m(p,E),m(p,A),m(p,N),S=!0,X||(j=[Q($,"click",$t),Q(A,"click",r[6])],X=!0)},p(B,[v]){var C,Z;v&1&&(H=Be(B[0]),be(),d=ot(d,v,g,1,B,H,_,c,it,He,null,Ue),ye()),(C=B[2])!=null&&C.username||(Z=B[2])!=null&&Z.email?k?k.p(B,v):(k=Pe(B),k.c(),k.m(p,w)):k&&(k.d(1),k=null),B[1]?T||(T=Ve(),T.c(),T.m(p,M)):T&&(T.d(1),T=null)},i(B){if(!S){I(t.$$.fragment,B);for(let v=0;v<H.length;v+=1)I(d[v]);S=!0}},o(B){U(t.$$.fragment,B);for(let v=0;v<d.length;v+=1)U(d[v]);S=!1},d(B){B&&(h(e),h(u),h(c),h(L),h(p)),W(t);for(let v=0;v<d.length;v+=1)d[v].d();k&&k.d(),T&&T.d(),X=!1,ve(j)}}}function jt(r,e,n){const t=Ce();let{conversations:l=[]}=e,{canLogin:s}=e,{user:a}=e;function i(c){Ne.call(this,r,c)}function f(c){Ne.call(this,r,c)}const u=()=>t("clickSettings");return r.$$set=c=>{"conversations"in c&&n(0,l=c.conversations),"canLogin"in c&&n(1,s=c.canLogin),"user"in c&&n(2,a=c.user)},[l,s,a,t,i,f,u]}class et extends ae{constructor(e){super(),oe(this,e,jt,It,se,{conversations:0,canLogin:1,user:2})}}function Dt(r){let e,n,t,l,s,a,i;return{c(){e=re("svg"),n=re("path"),t=re("path"),l=re("defs"),s=re("radialGradient"),a=re("stop"),i=re("stop"),this.h()},l(f){e=le(f,"svg",{xmlns:!0,width:!0,height:!0,class:!0,fill:!0,viewBox:!0});var u=O(e);n=le(u,"path",{fill:!0,d:!0}),O(n).forEach(h),t=le(u,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),O(t).forEach(h),l=le(u,"defs",{});var c=O(l);s=le(c,"radialGradient",{id:!0,cx:!0,cy:!0,r:!0,gradientTransform:!0,gradientUnits:!0});var d=O(s);a=le(d,"stop",{"stop-color":!0}),O(a).forEach(h),i=le(d,"stop",{offset:!0,"stop-color":!0}),O(i).forEach(h),d.forEach(h),c.forEach(h),u.forEach(h),this.h()},h(){o(n,"fill","url(#a)"),o(n,"d","M.93 10.65A10.17 10.17 0 0 1 11.11.48h4.67a9.45 9.45 0 0 1 0 18.89H4.53L1.62 22.2a.38.38 0 0 1-.69-.28V10.65Z"),o(t,"fill","#000"),o(t,"fill-rule","evenodd"),o(t,"d","M11.52 7.4a1.86 1.86 0 1 1-3.72 0 1.86 1.86 0 0 1 3.72 0Zm7.57 0a1.86 1.86 0 1 1-3.73 0 1.86 1.86 0 0 1 3.73 0ZM8.9 12.9a.55.55 0 0 0-.11.35.76.76 0 0 1-1.51 0c0-.95.67-1.94 1.76-1.94 1.09 0 1.76 1 1.76 1.94H9.3a.55.55 0 0 0-.12-.35c-.06-.07-.1-.08-.13-.08s-.08 0-.14.08Zm4.04 0a.55.55 0 0 0-.12.35h-1.51c0-.95.68-1.94 1.76-1.94 1.1 0 1.77 1 1.77 1.94h-1.51a.55.55 0 0 0-.12-.35c-.06-.07-.11-.08-.14-.08-.02 0-.07 0-.13.08Zm-1.89.79c-.02 0-.07-.01-.13-.08a.55.55 0 0 1-.12-.36h-1.5c0 .95.67 1.95 1.75 1.95 1.1 0 1.77-1 1.77-1.95h-1.51c0 .16-.06.28-.12.36-.06.07-.11.08-.14.08Zm4.04 0c-.03 0-.08-.01-.14-.08a.55.55 0 0 1-.12-.36h-1.5c0 .95.67 1.95 1.76 1.95 1.08 0 1.76-1 1.76-1.95h-1.51c0 .16-.06.28-.12.36-.06.07-.11.08-.13.08Zm1.76-.44c0-.16.05-.28.12-.35.06-.07.1-.08.13-.08s.08 0 .14.08c.06.07.11.2.11.35a.76.76 0 0 0 1.51 0c0-.95-.67-1.94-1.76-1.94-1.09 0-1.76 1-1.76 1.94h1.5Z"),o(t,"clip-rule","evenodd"),o(a,"stop-color","#FFD21E"),o(i,"offset","1"),o(i,"stop-color","red"),o(s,"id","a"),o(s,"cx","0"),o(s,"cy","0"),o(s,"r","1"),o(s,"gradientTransform","matrix(0 31.37 -34.85 0 13.08 -9.02)"),o(s,"gradientUnits","userSpaceOnUse"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width","1em"),o(e,"height","1em"),o(e,"class",r[0]),o(e,"fill","none"),o(e,"viewBox","0 0 26 23")},m(f,u){P(f,e,u),m(e,n),m(e,t),m(e,l),m(l,s),m(s,a),m(s,i)},p(f,[u]){u&1&&o(e,"class",f[0])},i:ee,o:ee,d(f){f&&h(e)}}}function zt(r,e,n){let{classNames:t=""}=e;return r.$$set=l=>{"classNames"in l&&n(0,t=l.classNames)},[t]}class Ut extends ae{constructor(e){super(),oe(this,e,zt,Dt,se,{classNames:0})}}function Ht(r){let e,n,t,l,s,a,i,f;return t=new Ut({props:{classNames:"text-2xl mr-2"}}),{c(){e=b("div"),n=b("div"),G(t.$$.fragment),l=D(),s=b("h2"),a=me(r[0]),this.h()},l(u){e=y(u,"DIV",{class:!0});var c=O(e);n=y(c,"DIV",{class:!0});var d=O(n);q(t.$$.fragment,d),l=z(d),s=y(d,"H2",{class:!0});var _=O(s);a=ge(_,r[0]),_.forEach(h),d.forEach(h),c.forEach(h),this.h()},h(){o(s,"class","font-semibold"),o(n,"class","pointer-events-auto flex items-center rounded-full bg-white/90 px-3 py-1 shadow-sm dark:bg-gray-900/80"),o(e,"class","pointer-events-none fixed right-0 top-12 z-20 bg-gradient-to-bl from-red-500/20 via-red-500/0 to-red-500/0 pb-36 pl-36 pr-2 pt-2 md:top-0 md:pr-8 md:pt-5")},m(u,c){P(u,e,c),m(e,n),K(t,n,null),m(n,l),m(n,s),m(s,a),f=!0},p(u,[c]){(!f||c&1)&&xe(a,u[0])},i(u){f||(I(t.$$.fragment,u),tt(()=>{f&&(i||(i=Le(e,Se,{duration:300},!0)),i.run(1))}),f=!0)},o(u){U(t.$$.fragment,u),i||(i=Le(e,Se,{duration:300},!1)),i.run(0),f=!1},d(u){u&&h(e),W(t),u&&i&&i.end()}}}function Pt(r,e,n){let{message:t=""}=e;return r.$$set=l=>{"message"in l&&n(0,t=l.message)},[t]}class Vt extends ae{constructor(e){super(),oe(this,e,Pt,Ht,se,{message:0})}}function Re(r){let e,n;return e=new Xe({props:{$$slots:{default:[Rt]},$$scope:{ctx:r}}}),e.$on("close",r[12]),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),n=!0},p(t,l){const s={};l&2097160&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Rt(r){let e,n,t,l="Are you sure?",s,a,i,f,u,c="This action will delete all your conversations. This cannot be undone.",d,_,L="Confirm deletion",p,w,M;return i=new Te({props:{class:"text-gray-900 group-hover:text-gray-500"}}),{c(){e=b("form"),n=b("div"),t=b("h2"),t.textContent=l,s=D(),a=b("button"),G(i.$$.fragment),f=D(),u=b("p"),u.textContent=c,d=D(),_=b("button"),_.textContent=L,this.h()},l($){e=y($,"FORM",{method:!0,action:!0,class:!0});var x=O(e);n=y(x,"DIV",{class:!0});var E=O(n);t=y(E,"H2",{"data-svelte-h":!0}),te(t)!=="svelte-1xhqmfb"&&(t.textContent=l),s=z(E),a=y(E,"BUTTON",{type:!0,class:!0});var A=O(a);q(i.$$.fragment,A),A.forEach(h),E.forEach(h),f=z(x),u=y(x,"P",{class:!0,"data-svelte-h":!0}),te(u)!=="svelte-tlhizs"&&(u.textContent=c),d=z(x),_=y(x,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),te(_)!=="svelte-1r34sqw"&&(_.textContent=L),x.forEach(h),this.h()},h(){o(a,"type","button"),o(a,"class","group"),o(n,"class","flex items-start justify-between text-xl font-semibold text-gray-800"),o(u,"class","text-gray-800"),o(_,"type","submit"),o(_,"class","mt-2 rounded-full bg-red-700 px-5 py-2 text-lg font-semibold text-gray-100 ring-gray-400 ring-offset-1 transition-all focus-visible:outline-none focus-visible:ring hover:ring"),o(e,"method","post"),o(e,"action",R+"/conversations?/delete"),o(e,"class","flex w-full flex-col gap-5 p-6")},m($,x){P($,e,x),m(e,n),m(n,t),m(n,s),m(n,a),K(i,a,null),m(e,f),m(e,u),m(e,d),m(e,_),p=!0,w||(M=[Q(a,"click",r[10]),Je(Ye.call(null,e,r[11]))],w=!0)},p:ee,i($){p||(I(i.$$.fragment,$),p=!0)},o($){U(i.$$.fragment,$),p=!1},d($){$&&h(e),W(i),w=!1,ve(M)}}}function Zt(r){let e,n,t,l="Settings",s,a,i,f,u,c,d,_,L,p,w,M='<button type="submit" class="underline decoration-gray-300 hover:decoration-gray-700">Delete all conversations</button>',$,x,E="Apply",A,V,N,S;i=new Te({props:{class:"text-gray-900 group-hover:text-gray-500"}});let X=ut,j=r[3]&&Re(r);return{c(){e=b("div"),n=b("div"),t=b("h2"),t.textContent=l,s=D(),a=b("button"),G(i.$$.fragment),f=D(),u=b("form"),c=D(),d=b("label"),_=b("input"),L=me(`\r
				Hide emoticons in conversation topics`),p=D(),w=b("form"),w.innerHTML=M,$=D(),x=b("button"),x.textContent=E,A=D(),j&&j.c(),this.h()},l(H){e=y(H,"DIV",{class:!0});var g=O(e);n=y(g,"DIV",{class:!0});var k=O(n);t=y(k,"H2",{"data-svelte-h":!0}),te(t)!=="svelte-15f2bar"&&(t.textContent=l),s=z(k),a=y(k,"BUTTON",{type:!0,class:!0});var T=O(a);q(i.$$.fragment,T),T.forEach(h),k.forEach(h),f=z(g),u=y(g,"FORM",{class:!0,method:!0,action:!0});var Y=O(u);c=z(Y),d=y(Y,"LABEL",{class:!0});var F=O(d);_=y(F,"INPUT",{type:!0,name:!0}),L=ge(F,`\r
				Hide emoticons in conversation topics`),F.forEach(h),p=z(Y),w=y(Y,"FORM",{method:!0,action:!0,"data-svelte-h":!0}),te(w)!=="svelte-1ldioy7"&&(w.innerHTML=M),$=z(Y),x=y(Y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),te(x)!=="svelte-1jwaby2"&&(x.textContent=E),Y.forEach(h),A=z(g),j&&j.l(g),g.forEach(h),this.h()},h(){o(a,"type","button"),o(a,"class","group"),o(n,"class","flex items-start justify-between text-xl font-semibold text-gray-800"),o(_,"type","checkbox"),o(_,"name","hideEmojiOnSidebar"),o(d,"class","flex cursor-pointer select-none items-center gap-2 text-sm text-gray-500"),o(w,"method","post"),o(w,"action",R+"/conversations?/delete"),o(x,"type","submit"),o(x,"class","mt-2 rounded-full bg-black px-5 py-2 text-lg font-semibold text-gray-100 ring-gray-400 ring-offset-1 transition-all focus-visible:outline-none focus-visible:ring hover:ring"),o(u,"class","flex flex-col gap-5"),o(u,"method","post"),o(u,"action",R+"/settings"),o(e,"class","flex w-full flex-col gap-5 p-6")},m(H,g){P(H,e,g),m(e,n),m(n,t),m(n,s),m(n,a),K(i,a,null),m(e,f),m(e,u),m(u,c),m(u,d),m(d,_),_.checked=r[0].hideEmojiOnSidebar,m(d,L),m(u,p),m(u,w),m(u,$),m(u,x),m(e,A),j&&j.m(e,null),V=!0,N||(S=[Q(a,"click",r[5]),Q(_,"change",r[7]),Q(w,"submit",pe(r[8])),Je(Ye.call(null,u,r[9]))],N=!0)},p(H,g){g&1&&(_.checked=H[0].hideEmojiOnSidebar),H[3]?j?(j.p(H,g),g&8&&I(j,1)):(j=Re(H),j.c(),I(j,1),j.m(e,null)):j&&(be(),U(j,1,1,()=>{j=null}),ye())},i(H){V||(I(i.$$.fragment,H),I(X),I(j),V=!0)},o(H){U(i.$$.fragment,H),U(X),U(j),V=!1},d(H){H&&h(e),W(i),j&&j.d(),N=!1,ve(S)}}}function Ft(r){let e,n;return e=new Xe({props:{$$slots:{default:[Zt]},$$scope:{ctx:r}}}),e.$on("close",r[13]),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),n=!0},p(t,[l]){const s={};l&2097167&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Gt(r,e,n){let{settings:t}=e,{models:l}=e,s=t.shareConversationsWithModelAuthors,a=!1;const i=Ce(),f=()=>i("close");function u($){s=$,n(2,s)}function c(){t.hideEmojiOnSidebar=this.checked,n(0,t)}const d=()=>n(3,a=!0),_=()=>{i("close")},L=()=>n(3,a=!1),p=()=>{i("close")},w=()=>n(3,a=!1);function M($){Ne.call(this,r,$)}return r.$$set=$=>{"settings"in $&&n(0,t=$.settings),"models"in $&&n(1,l=$.models)},[t,l,s,a,i,f,u,c,d,_,L,p,w,M]}class qt extends ae{constructor(e){super(),oe(this,e,Gt,Ft,se,{settings:0,models:1})}}function Kt(r){let e,n;return e=new et({props:{conversations:r[0].conversations,user:r[0].user,canLogin:r[0].user===void 0&&r[0].loginEnabled}}),e.$on("shareConversation",r[10]),e.$on("deleteConversation",r[11]),e.$on("clickSettings",r[12]),e.$on("editConversationTitle",r[13]),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.conversations=t[0].conversations),l&1&&(s.user=t[0].user),l&1&&(s.canLogin=t[0].user===void 0&&t[0].loginEnabled),e.$set(s)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Ze(r){let e,n;return e=new Vt({props:{message:r[3]}}),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.message=t[3]),e.$set(s)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Fe(r){let e,n;return e=new qt({props:{settings:r[0].settings,models:r[0].models}}),e.$on("close",r[20]),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.settings=t[0].settings),l&1&&(s.models=t[0].models),e.$set(s)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function Wt(r){var B;let e,n,t,l,s,a,i,f,u,c,d,_,L,p,w,M,$,x,E,A,V,N,S,X,j,H,g;document.title=ke,A=new wt({props:{isOpen:r[1],title:(B=r[0].conversations.find(r[14]))==null?void 0:B.title,$$slots:{default:[Kt]},$$scope:{ctx:r}}}),A.$on("toggle",r[15]),S=new et({props:{conversations:r[0].conversations,user:r[0].user,canLogin:r[0].user===void 0&&r[0].loginEnabled}}),S.$on("shareConversation",r[16]),S.$on("deleteConversation",r[17]),S.$on("clickSettings",r[18]),S.$on("editConversationTitle",r[19]);let k=r[3]&&Ze(r),T=r[2]&&Fe(r);const Y=r[9].default,F=Ge(Y,r,r[21],null);return{c(){e=b("meta"),n=b("meta"),t=b("meta"),l=b("meta"),s=b("meta"),a=b("meta"),f=b("meta"),c=b("link"),_=b("link"),p=b("link"),M=b("link"),x=D(),E=b("div"),G(A.$$.fragment),V=D(),N=b("nav"),G(S.$$.fragment),X=D(),k&&k.c(),j=D(),T&&T.c(),H=D(),F&&F.c(),this.h()},l(v){const C=nt("svelte-te1x4x",document.head);e=y(C,"META",{name:!0,content:!0}),n=y(C,"META",{name:!0,content:!0}),t=y(C,"META",{name:!0,content:!0}),l=y(C,"META",{property:!0,content:!0}),s=y(C,"META",{property:!0,content:!0}),a=y(C,"META",{property:!0,content:!0}),f=y(C,"META",{property:!0,content:!0}),c=y(C,"LINK",{rel:!0,href:!0,sizes:!0}),_=y(C,"LINK",{rel:!0,href:!0,type:!0}),p=y(C,"LINK",{rel:!0,href:!0}),M=y(C,"LINK",{rel:!0,href:!0}),C.forEach(h),x=z(v),E=y(v,"DIV",{class:!0});var Z=O(E);q(A.$$.fragment,Z),V=z(Z),N=y(Z,"NAV",{class:!0});var J=O(N);q(S.$$.fragment,J),J.forEach(h),X=z(Z),k&&k.l(Z),j=z(Z),T&&T.l(Z),H=z(Z),F&&F.l(Z),Z.forEach(h),this.h()},h(){o(e,"name","description"),o(e,"content","The first open source alternative to ChatGPT. ðŸ’ª"),o(n,"name","twitter:card"),o(n,"content","summary_large_image"),o(t,"name","twitter:site"),o(t,"content","@huggingface"),o(l,"property","og:title"),o(l,"content",ke),o(s,"property","og:type"),o(s,"content","website"),o(a,"property","og:url"),o(a,"content",i=""+(r[4].url.origin+R)),o(f,"property","og:image"),o(f,"content",u=r[4].url.origin+R+"/"+ie+"/thumbnail.png"),o(c,"rel","icon"),o(c,"href",d=r[4].url.origin+R+"/"+ie+"/favicon.ico"),o(c,"sizes","32x32"),o(_,"rel","icon"),o(_,"href",L=r[4].url.origin+R+"/"+ie+"/icon.svg"),o(_,"type","image/svg+xml"),o(p,"rel","apple-touch-icon"),o(p,"href",w=r[4].url.origin+R+"/"+ie+"/apple-touch-icon.png"),o(M,"rel","manifest"),o(M,"href",$=r[4].url.origin+R+"/"+ie+"/manifest.json"),o(N,"class","grid max-h-screen grid-cols-1 grid-rows-[auto,1fr,auto] max-md:hidden"),o(E,"class","grid h-full w-screen grid-cols-1 grid-rows-[auto,1fr] overflow-hidden text-smd dark:text-gray-300 md:grid-cols-[280px,1fr] md:grid-rows-[1fr]")},m(v,C){m(document.head,e),m(document.head,n),m(document.head,t),m(document.head,l),m(document.head,s),m(document.head,a),m(document.head,f),m(document.head,c),m(document.head,_),m(document.head,p),m(document.head,M),P(v,x,C),P(v,E,C),K(A,E,null),m(E,V),m(E,N),K(S,N,null),m(E,X),k&&k.m(E,null),m(E,j),T&&T.m(E,null),m(E,H),F&&F.m(E,null),g=!0},p(v,[C]){var fe;(!g||C&16&&i!==(i=""+(v[4].url.origin+R)))&&o(a,"content",i),(!g||C&16&&u!==(u=v[4].url.origin+R+"/"+ie+"/thumbnail.png"))&&o(f,"content",u),(!g||C&16&&d!==(d=v[4].url.origin+R+"/"+ie+"/favicon.ico"))&&o(c,"href",d),(!g||C&16&&L!==(L=v[4].url.origin+R+"/"+ie+"/icon.svg"))&&o(_,"href",L),(!g||C&16&&w!==(w=v[4].url.origin+R+"/"+ie+"/apple-touch-icon.png"))&&o(p,"href",w),(!g||C&16&&$!==($=v[4].url.origin+R+"/"+ie+"/manifest.json"))&&o(M,"href",$);const Z={};C&2&&(Z.isOpen=v[1]),C&17&&(Z.title=(fe=v[0].conversations.find(v[14]))==null?void 0:fe.title),C&2097157&&(Z.$$scope={dirty:C,ctx:v}),A.$set(Z);const J={};C&1&&(J.conversations=v[0].conversations),C&1&&(J.user=v[0].user),C&1&&(J.canLogin=v[0].user===void 0&&v[0].loginEnabled),S.$set(J),v[3]?k?(k.p(v,C),C&8&&I(k,1)):(k=Ze(v),k.c(),I(k,1),k.m(E,j)):k&&(be(),U(k,1,1,()=>{k=null}),ye()),v[2]?T?(T.p(v,C),C&4&&I(T,1)):(T=Fe(v),T.c(),I(T,1),T.m(E,H)):T&&(be(),U(T,1,1,()=>{T=null}),ye()),F&&F.p&&(!g||C&2097152)&&qe(F,Y,v,v[21],g?We(Y,v[21],C,null):Ke(v[21]),null)},i(v){g||(I(A.$$.fragment,v),I(S.$$.fragment,v),I(k),I(T),I(F,v),g=!0)},o(v){U(A.$$.fragment,v),U(S.$$.fragment,v),U(k),U(T),U(F,v),g=!1},d(v){v&&(h(x),h(E)),h(e),h(n),h(t),h(l),h(s),h(a),h(f),h(c),h(_),h(p),h(M),W(A),W(S),k&&k.d(),T&&T.d(),F&&F.d(v)}}}function Jt(r,e,n){let t,l,s;_e(r,De,g=>n(7,t=g)),_e(r,he,g=>n(8,l=g)),_e(r,Qe,g=>n(4,s=g));let{$$slots:a={},$$scope:i}=e,{data:f}=e,u=!1,c=!1,d,_;async function L(){l&&_&&l!==_&&(clearTimeout(d),n(3,_=null),await new Promise(g=>setTimeout(g,300))),n(3,_=l),d=setTimeout(()=>{de(he,l=null,l),n(3,_=null)},3e3)}async function p(g){try{if(!(await fetch(`${R}/conversation/${g}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){de(he,l="Error while deleting conversation, try again.",l);return}s.params.id!==g?await Me(Ie.ConversationList):await ct(`${R}/`,{invalidateAll:!0})}catch(k){console.error(k),de(he,l=String(k),l)}}async function w(g,k){try{if(!(await fetch(`${R}/conversation/${g}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:k})})).ok){de(he,l="Error while editing title, try again.",l);return}await Me(Ie.ConversationList)}catch(T){console.error(T),de(he,l=String(T),l)}}rt(()=>{clearTimeout(d)});const M=g=>je(g.detail.id,g.detail.title),$=g=>p(g.detail),x=()=>n(2,c=!0),E=g=>w(g.detail.id,g.detail.title),A=g=>g.id===s.params.id,V=g=>n(1,u=g.detail),N=g=>je(g.detail.id,g.detail.title),S=g=>p(g.detail),X=()=>n(2,c=!0),j=g=>w(g.detail.id,g.detail.title),H=()=>n(2,c=!1);return r.$$set=g=>{"data"in g&&n(0,f=g.data),"$$scope"in g&&n(21,i=g.$$scope)},r.$$.update=()=>{if(r.$$.dirty&256&&l&&L(),r.$$.dirty&129&&t){const g=f.conversations.findIndex(({id:k})=>k===(t==null?void 0:t.convId));g!=-1&&n(0,f.conversations[g].title=(t==null?void 0:t.title)??f.conversations[g].title,f),n(0,f.conversations=[...f.conversations],f),de(De,t=null,t)}},[f,u,c,_,s,p,w,t,l,a,M,$,x,E,A,V,N,S,X,j,H,i]}class rn extends ae{constructor(e){super(),oe(this,e,Jt,Wt,se,{data:0})}}export{rn as component};
