import{g as Q}from"./_commonjsHelpers.39b5b250.js";function V(y,A){for(var l=0;l<A.length;l++){const d=A[l];if(typeof d!="string"&&!Array.isArray(d)){for(const p in d)if(p!=="default"&&!(p in y)){const x=Object.getOwnPropertyDescriptor(d,p);x&&Object.defineProperty(y,p,x.get?x:{enumerable:!0,get:()=>d[p]})}}}return Object.freeze(Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}))}var B={exports:{}};(function(y,A){(function(l,d){y.exports=d()})(self,()=>(()=>{var l={d:(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},d={};function p(){return document.createElement("canvas")}function x(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),m=new Uint8Array(i),h=0;h<t.length;h++)m[h]=t.charCodeAt(h);return new Blob([i],{type:r})}function H(e,t){var r=t.width/t.height,i=Math.min(t.width,e.maxWidth,r*e.maxHeight);return e.maxSize>0&&e.maxSize<t.width*t.height/1e3&&(i=Math.min(i,Math.floor(1e3*e.maxSize/t.height))),e.scaleRatio&&(i=Math.min(i,Math.floor(e.scaleRatio*t.width))),e.debug&&(console.log("browser-image-resizer: original image size = "+t.width+" px (width) X "+t.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+i+" px (width) X "+Math.floor(i/r)+" px (height)")),i<=0&&(i=1,console.warn("browser-image-resizer: image size is too small")),i}function L(e,t){var r=document.createElement("canvas"),i=t.outputWidth/e.width;r.width=e.width*i,r.height=e.height*i;var m=e.getContext("2d").getImageData(0,0,e.width,e.height),h=r.getContext("2d").createImageData(r.width,r.height);return function(a,g,P){function v($,G,J,K,R,_){var U=1-R,q=1-_;return $*U*q+G*R*q+J*U*_+K*R*_}var c,s,n,o,f,u,w,D,b,M,j,S,O,z,C,E,I,T,W;for(c=0;c<g.height;++c)for(n=c/P,o=Math.floor(n),f=Math.ceil(n)>a.height-1?a.height-1:Math.ceil(n),s=0;s<g.width;++s)u=s/P,w=Math.floor(u),D=Math.ceil(u)>a.width-1?a.width-1:Math.ceil(u),b=4*(s+g.width*c),M=4*(w+a.width*o),j=4*(D+a.width*o),S=4*(w+a.width*f),O=4*(D+a.width*f),z=u-w,C=n-o,E=v(a.data[M],a.data[j],a.data[S],a.data[O],z,C),g.data[b]=E,I=v(a.data[M+1],a.data[j+1],a.data[S+1],a.data[O+1],z,C),g.data[b+1]=I,T=v(a.data[M+2],a.data[j+2],a.data[S+2],a.data[O+2],z,C),g.data[b+2]=T,W=v(a.data[M+3],a.data[j+3],a.data[S+3],a.data[O+3],z,C),g.data[b+3]=W}(m,h,i),r.getContext("2d").putImageData(h,0,0),r}function X(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t}l.r(d),l.d(d,{readAndCompressImage:()=>N});var k={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function N(e,t){return new Promise(function(r,i){var m=document.createElement("img"),h=new FileReader,a=Object.assign({},k,t);h.onload=function(g){m.onerror=function(){i("cannot load image.")},m.onload=function(){var P={img:m,config:a};try{var v=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=c.img,n=c.config,o=(c.orientation,p());o.width=s.width,o.height=s.height;var f=o.getContext("2d");n.mimeType==="image/jpeg"&&(f.fillStyle="#ffffff",f.fillRect(0,0,o.width,o.height),f.save()),f.drawImage(s,0,0),f.restore();for(var u=H(n,o);o.width>=2*u;)o=X(o);o.width>u&&(o=L(o,Object.assign(n,{outputWidth:u})));var w=o.toDataURL(n.mimeType,n.quality);return typeof n.onScale=="function"&&n.onScale(w),x(w)}(P);r(v)}catch(c){i(c)}},m.src=g.target.result};try{h.onerror=function(){i("cannot read image file.")},h.readAsDataURL(e)}catch(g){i(g)}})}return d})())})(B);var F=B.exports;const Y=Q(F),ee=V({__proto__:null,default:Y},[F]);export{ee as i};
